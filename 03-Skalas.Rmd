# Skalas

```{r setupskalas, include=FALSE}
pdf.options(encoding="CP1257.enc")
```

Uz x un y ass esošo vērtību, kā arī punktu, līniju, stabiņu krāsu, formu, izmēru utt. vērtību mainīšanai ir jāizmanto speciālas skalu maiņas funkcijus, kuru nosaukumi sastāv no trīs vārdiem. Visām funkcijām pirmais vārds ir scale, otrais vārds parāda, kāda veida skala tā ir - x, y vai attiecīgi krāsu (color), aizpildījuma (fill), līniju veida (linetype), punktu formas (shape), izmēra (size) vai caurspīdīguma (alpha). Funkcijas nosaukumā trešais vārds norāda kāda veida vērtības ir izmantotas skalas izveidē - nepārtrauktas (continuous) vai diskrētas (discrete), kā arī ir citi papildus veidi, piemēram, manual (vērtības nosaka manuāli), gradients (attiecas uz krāsām un aizpildījumiem).

## scale_x_continuous() un scale_y_continuous()

x un y ass vērtību maiņai, ja tās skaitliskas (nepārtrauktas), izmanto attiecīgi funkcijas `scale_x_continuous()` un `scale_y_continuous()`. Izmantojot šīs funkcijas var mainīt asu parakstus (arguments `name=`), pozīcijas, kurās parādās skaitļi (`breaks=`) (\@ref(fig:skalas1) attēls).

```{r skalas1,fig.cap="Nepārtraukto asu piemērs"}
ggplot(CO2,aes(conc,uptake))+geom_point()+
      scale_x_continuous("Koncentrācija",breaks=c(200,400,500))+
      scale_y_continuous("Uzņemtais apjoms")
```

Ar argumentu `limits=` ir iespējams mainīt katras ass garumu, bet jāņem vērā, ka gadījumā, ja jaunais garums būs mazāks nekā vērtību amplitūda, tad vērtības ārpus ass garumu tiks izslēgtas no attēla (to parāda arī brīdinājums par izslēgtām vērtībām), ietekmējot attēlojumu (\@ref(fig:skalas2) attēls). Tas īpaši attiecas uz stabiņu attēliem, vai attēliem ar trenda līniju.

```{r skalas2,fig.cap="Izmainītas nepārtrauktās ass piemērs"}
ggplot(CO2,aes(conc,uptake))+geom_point()+
      scale_x_continuous(limits=c(200,600))+
      scale_y_continuous(limits=c(0,50))
```

y un x asi ir iespējams arī pārvietot attiecīgi uz labo pusi vai uz augšu, norādot argumentu `position=` (\@ref(fig:skalas3) attēls).

```{r skalas3,fig.cap="Pārvietotas x un y asis"}
ggplot(CO2,aes(conc,uptake))+geom_point()+
      scale_y_continuous(position = "right")+
      scale_x_continuous(position = "top")
```

Ar argumentu `sec.axis=` gan x, gan y asij ir iespējams izveidot otro asi, bet tikai ar nosacījumu, ka otrā ass ir tieša pamatass transformāciju (\@ref(fig:skalas4) attēls). Tas nozīmē, ka nevar izveidot otru asi, kas parāda pavisam citas vērtības.

```{r skalas4,fig.cap="Attēls ar otru y asi, kas ir pirmās transformācija"}
ggplot(CO2,aes(conc,uptake))+geom_point()+
      scale_y_continuous(sec.axis = sec_axis(~./100,name="Otrā y ass"))
```

## scale_x_discrete() un scale_y_discrete()

Gadījumos, kad uz x vai y ass attēlotas kategorijas mainīgā vērtības, ir jāizmanto attiecīgi funkcijas `scale_x_discrete()` un `scale_y_discrete()`, lai mainītu šo asu izskatu.

Ar argumentu `limits=` ir iespējams norādīt, kuras tieši vērtības attēlot uz ass (atmest kādu no līmeņiem) (\@ref(fig:diskr1) attēls).

```{r diskr1,fig.cap="Attēls ar kategorijas x asi, kur attēloti tikai daži līmeņi"}
ggplot(mpg,aes(drv,hwy)) + geom_boxplot() +
      scale_x_discrete(limits = c("f","r"))
```

Arguments `limits=` ļauj arī mainīt secību, kādā parādās līmeņi pie atbilstošās ass (\@ref(fig:diskr2) attēls).

```{r diskr2,fig.cap="Attēls ar kategorijas x asi, kur mainīta līmeņu secība"}
ggplot(mpg,aes(drv,hwy)) + geom_boxplot() +
      scale_x_discrete(limits = c("r","4","f"))
```

Līmeņu nosaukumu maiņai izmanto argumentu `labels=`, kur jānorāda jaunie līmeņu nosaukumi tādā secībā, kā tie parādās pie atbilstošās ass, vai arī jānorāda vecais un jaunais nosaukums un tad secībai nav nozīmēs (\@ref(fig:diskr3) attēls). Jāņem vērā, ka arguments `labels=` nemaina līmeņu attēlojuma secību, pat ja mainīta kārtība to nosaukumiem.

```{r diskr3,fig.cap="Attēls ar kategorijas x asi, kur mainīti līmeņu nosaukumi"}
ggplot(mpg,aes(drv,hwy)) + geom_boxplot() +
      scale_x_discrete(labels = c("4"="Četri","r"="Pakaļējie","f"="Priekšējie"))
```


<!-- ## scale_colour_...() -->

<!-- ## scale_fill_...() -->

<!-- ## scale_alpha_...() -->

<!-- ## scale_linetype_...() -->

<!-- ## scale_shape_...() -->

<!-- ## scale_size_...() -->





